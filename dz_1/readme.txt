Не идиально, но вроде работает))
